@import 'forms/diagnosi-dimissione';
@import 'forms/mobile';

/* Evidenzia la checkbox Paziente Infetto */
#infetto.form-check-input {
  width: 1.5em;
  height: 1.5em;
  border: 2px solid var(--primary, #2563eb);
  box-shadow: 0 0 0 2px rgba(37,99,235,0.15);
  accent-color: var(--primary, #2563eb);
}

#infetto.form-check-input:checked {
  background-color: var(--primary, #2563eb);
  border-color: var(--primary, #2563eb);
}

label[for="infetto"] {
  color: var(--primary, #2563eb);
  font-weight: bold;
  margin-left: 0.5em;
  letter-spacing: 0.5px;
}

/* Stili per il campo data infezione */
#data-infezione-container {
    transition: all 0.3s ease-in-out;
    overflow: hidden;
    
    &[style*="display: none"] {
        opacity: 0;
        max-height: 0;
        margin: 0;
        padding: 0;
    }
    
    &[style*="display: block"] {
        opacity: 1;
        max-height: 200px;
    }
}

#data_infezione {
    border-left: 3px solid #ef4444;
    
    &:focus {
        border-left-color: #ef4444;
        box-shadow: var(--focus-shadow), -3px 0 0 #ef4444;
    }
}

label[for="data_infezione"] {
    color: #ef4444;
    font-weight: 600;
}

@import 'forms/eventi';

/* Stili per il titolo del form con nome paziente */
#inserimento-title {
    display: flex;
    align-items: center;
    font-weight: 600;
    color: var(--text-primary);
    flex-wrap: wrap;
    gap: 0.5rem;
    
    .material-icons {
        color: var(--primary-color);
        background: rgba(37, 99, 235, 0.1);
        border-radius: 50%;
        padding: 6px;
        font-size: 20px;
        flex-shrink: 0;
    }
    
    /* Stile per il nome del paziente nel titolo */
    .patient-name {
        color: var(--primary-color);
        font-weight: 700;
        padding: 0.375rem 0.875rem;
        background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(37, 99, 235, 0.05));
        border-radius: var(--border-radius);
        border: 1px solid rgba(37, 99, 235, 0.2);
        border-left: 4px solid var(--primary-color);
        font-size: 0.95em;
        letter-spacing: 0.025em;
        display: inline-flex;
        align-items: center;
        box-shadow: 0 1px 3px rgba(37, 99, 235, 0.1);
        
        &::before {
            content: 'ðŸ‘¤';
            margin-right: 0.5rem;
            font-size: 0.9em;
        }
    }
}

/* Responsive per il titolo */
@media (max-width: 768px) {
    #inserimento-title {
        font-size: 1.1rem;
        flex-wrap: wrap;
        
        .material-icons {
            font-size: 18px;
            padding: 4px;
            margin-right: 0.5rem;
        }
    }
}
/* Uniforma altezza input e select nei gruppi input di diagnosi e dimissione su desktop */
@media (min-width: 768px) {
    #diagnosi-form .form-control,
    #diagnosi-form #save-diagnosi-btn, /* Selettore piÃ¹ specifico */
    #form-dimissione .form-control,
    #form-dimissione .form-select {
        min-height: 56px;
    }

    #diagnosi-form #save-diagnosi-btn {
        min-width: 180px; /* Larghezza fissa per il pulsante */
        flex-shrink: 0; /* Impedisce al pulsante di restringersi */
    }
}

/* Stile specifico per il pulsante Aggiungi Diagnosi per garantire larghezza fissa */
.btn-add-diagnosi {
    min-width: 180px !important; /* Larghezza fissa */
    flex-shrink: 0 !important;   /* Non permettere al pulsante di restringersi */
}

/* 
  FIX DEFINITIVO PER ALLINEAMENTO FORM DIAGNOSI 
  Questo blocco forza l'input e il pulsante ad avere la stessa altezza.
*/
#diagnosi-form .d-flex {
    align-items: stretch; /* Allunga gli elementi per riempire l'altezza del contenitore */
}

#diagnosi-form .form-control,
#diagnosi-form .btn {
    height: 56px; /* Imposta un'altezza fissa e uguale per entrambi */
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Stile per il contenitore del form diagnosi */
.diagnosi-form-container {
    display: flex;
    flex-direction: column; /* Layout a colonna di default (mobile) */
    gap: 0.75rem; /* Spazio tra input e pulsante su mobile */
}

.diagnosi-form-container .btn {
    width: 100%; /* Pulsante a larghezza piena su mobile */
}

/* Stili per desktop (schermi piÃ¹ grandi di 768px) */
@media (min-width: 768px) {
    .diagnosi-form-container {
        flex-direction: row; /* Layout a riga su desktop */
        align-items: center; /* Allinea verticalmente */
        gap: 0.5rem; /* Spazio ridotto tra gli elementi su desktop */
    }

    .diagnosi-form-container .form-control {
        flex-grow: 1; /* L'input occupa lo spazio rimanente */
    }

    .diagnosi-form-container .btn {
        width: auto; /* Larghezza automatica in base al contenuto */
        min-width: 180px; /* Larghezza minima fissa */
        flex-shrink: 0; /* Impedisce al pulsante di restringersi */
    }
}



/* Stili per il fieldset dei filtri */
@import 'forms/filters-fieldset';

@import 'forms/input-groups';

/* ===================================
   FORM STYLES
   =================================== */

/* Base form styles */
@import 'forms/base';



@import 'forms/patient-search';

@import 'forms/custom-select-integration';

@import 'forms/datepicker';

@import 'forms/filters';

/* Stili per la sezione Dimissione/Trasferimento */
.discharge-transfer-section {
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.02), rgba(37, 99, 235, 0.05));
    border: 1px solid rgba(37, 99, 235, 0.1);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    margin-top: 2rem;
    position: relative;
    
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, var(--primary-color), rgba(37, 99, 235, 0.6));
        border-radius: var(--border-radius) var(--border-radius) 0 0;
    }
    
    h5 {
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        
        .material-icons {
            background: rgba(37, 99, 235, 0.1);
            border-radius: 50%;
            padding: 8px;
            margin-right: 0.75rem;
            font-size: 20px;
        }
    }
}

/* Animazioni per i campi condizionali */
#reparto-destinazione-container,
#clinica-destinazione-container,
#codice-clinica-container {
    transition: all 0.3s ease-in-out;
    
    &[style*="display: none"] {
        opacity: 0;
        max-height: 0;
        margin: 0;
        padding: 0;
        overflow: hidden;
    }
    
    &[style*="display: block"] {
        opacity: 1;
        max-height: none; /* Rimuove la limitazione di altezza */
        overflow: visible; /* Permette al dropdown di essere visibile */
    }
}

/* Stili specifici per i campi di dimissione */
#tipo_dimissione {
    border-left: 3px solid var(--primary-color);
    
    &:focus {
        border-left-color: var(--primary-color);
        box-shadow: var(--focus-shadow), -3px 0 0 var(--primary-color);
    }
}

/* Indicatori visivi per i diversi tipi di dimissione */
.form-select option[value="dimissione"] {
    background-color: rgba(34, 197, 94, 0.1);
}

.form-select option[value="trasferimento_interno"] {
    background-color: rgba(249, 115, 22, 0.1);
}

.form-select option[value="trasferimento_esterno"] {
    background-color: rgba(239, 68, 68, 0.1);
}
