/* ===================================
   CARDS MOBILE - ADAPTED FROM DESKTOP
   =================================== */

@media (max-width: 767px) {
    .card {
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius) !important;
        box-shadow: var(--shadow-md) !important; /* Ombra leggermente ridotta per mobile */
        background: var(--card-bg);
        backdrop-filter: var(--glass-blur);
        transition: var(--transition);
        overflow: hidden;
        margin-bottom: 1rem; /* Aggiunge spazio tra le card */
    }

    /* Rimuove effetti hover non necessari su mobile */
    .card:hover {
        transform: none;
        box-shadow: var(--shadow-md) !important;
    }

    .card-header {
        background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
        border-bottom: 1px solid var(--border-color-light);
        padding: 1rem; /* Padding ridotto */
        font-weight: 600;
        font-size: 1rem; /* Dimensione font ridotta */
        color: var(--text-primary);
        border-radius: var(--border-radius) var(--border-radius) 0 0 !important;
    }

    .card-body {
        padding: 1rem; /* Padding ridotto */
    }

    /* Corregge i bordi arrotondati quando il body Ã¨ l'ultimo o unico elemento */
    .card-body:last-child {
        border-radius: 0 0 var(--border-radius) var(--border-radius) !important;
    }

    .card > .card-body:only-child {
        border-radius: var(--border-radius) !important;
    }

    /* Stili specifici per la lista pazienti mobile */
    .card.card-list-compact {
        border-left: 4px solid var(--primary-color);
        margin-bottom: 0.75rem;
        transition: all 0.2s ease;
    }

    .card.card-list-compact:hover {
        box-shadow: var(--shadow-lg) !important;
        transform: translateY(-1px);
    }

    .card.card-list-compact .card-body {
        padding: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }

    .card.card-list-compact .card-title {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: var(--text-primary);
    }

    .card.card-list-compact .card-meta {
        font-size: 0.8rem;
        color: var(--text-secondary);
        line-height: 1.3;
    }

    /* Stili per le card con stato di errore (pazienti dimessi) */
    .card.status-error {
        border-left-color: var(--bs-secondary);
        opacity: 0.85;
    }

    .card.status-success {
        border-left-color: var(--bs-success);
    }

    /* Stili per le card con pazienti infetti */
    .card.status-infected {
        border-left-color: #ffc107 !important;
        background: linear-gradient(135deg, rgba(255, 193, 7, 0.05) 0%, rgba(255, 193, 7, 0.02) 100%);
    }

    .card.status-infected .card-body {
        background: rgba(255, 193, 7, 0.02);
    }

    .card.status-infected .card-title {
        color: var(--text-primary);
    }

    /* Badge di infezione mobile */
    .badge.bg-warning.text-dark {
        background-color: #ffc107 !important;
        color: #212529 !important;
        font-weight: 600;
        border: 1px solid #ffca2c;
        font-size: 0.7em;
        display: inline-flex;
        align-items: center;
        gap: 2px;
    }

    .badge.bg-warning.text-dark .material-icons {
        font-size: 0.8em;
        line-height: 1;
    }
}

/* Dark mode support per mobile */
[data-bs-theme="dark"] {
    @media (max-width: 767px) {
        .card.status-infected {
            background: linear-gradient(135deg, rgba(255, 202, 44, 0.08) 0%, rgba(255, 202, 44, 0.03) 100%);
            border-left-color: #ffca2c !important;
        }

        .card.status-infected .card-body {
            background: rgba(255, 202, 44, 0.03);
        }

        .badge.bg-warning.text-dark {
            background-color: #1a1a1a !important;
            color: #ffca2c !important;
            border: 1px solid #ffca2c;
        }
    }
}